<!DOCTYPE html>
<html lang="en" ng-app="todoapp" ng-controller="todoappCtrl">
<!-- 
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/. 
-->
<head>
	<title>todoapp</title>

	<meta charset="utf-8">
	<meta name="description" content="A browser-based Todo.txt application">
    <meta name="author" content="JamesClonk">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="/css/bootstrap.css">
	<link rel="stylesheet" href="/css/bootstrap-theme.css">
	<link rel="stylesheet" href="/css/font-awesome.css">
	<link rel="stylesheet" href="/css/todoapp.css">

	<script src="/js/jquery.js" type="text/javascript"></script>
	<script src="/js/moment.js" type="text/javascript"></script>
	<script src="/js/angular.js" type="text/javascript"></script>
	<script src="/js/angular-route.js" type="text/javascript"></script>
	<script src="/js/angular-ui-bootstrap.js" type="text/javascript"></script>
	<script src="/js/todoapp.js" type="text/javascript"></script>
	<script src="/js/helpers.js" type="text/javascript"></script>
	<script src="/js/controllers.js" type="text/javascript"></script>
</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">

		<div class="navbar-header">
			<button type="button" class="navbar-toggle" ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed" data-toggle="collapse" data-target="#navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" ng-click="Goto('/')">todoapp</a>
		</div>

		<div class="navbar-collapse collapse" ng-class="!navCollapsed && 'in'" id="navbar-collapse" ng-controller="navbarCtrl">
			<ul class="nav navbar-nav">
				<li ng-class="{active: ActiveTab.Active == 'Tasks'}" class="dropdown">
					<a href="" class="dropdown-toggle" data-toggle="dropdown" ng-click="LoadBadges()"><span class="glyphicon glyphicon-tasks"></span>&nbsp;&nbsp;Tasks&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li class="dropdown-header">Tasks</li>
						<li><a role="menuitem" ng-click="ResetFilterGroup()"><span class="badge">{{count}}</span>&nbsp;&nbsp;All</a></li>
						<li class="divider"></li>
						<li class="dropdown-header"><span class="badge">{{contexts.length}}</span>&nbsp;&nbsp;Contexts</li>
						<li ng-repeat="(context, count) in contexts"><a role="menuitem" ng-click="SetFilterGroup('Context',context)"><span class="badge">{{count}}</span>&nbsp;&nbsp;{{context}}</a></li>
						<li class="divider"></li>
						<li class="dropdown-header"><span class="badge">{{projects.length}}</span>&nbsp;&nbsp;Projects</li>
						<li ng-repeat="(project, count) in projects"><a role="menuitem" ng-click="SetFilterGroup('Project',project)"><span class="badge">{{count}}</span>&nbsp;&nbsp;{{project}}</a></li>
					</ul>
				</li>
				<li class="dropdown">
					<a href="" class="dropdown-toggle" data-toggle="dropdown">Actions&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a role="menuitem" ng-click="ReloadTasklist()"><span class="glyphicon glyphicon-refresh"></span>&nbsp;&nbsp;Reload Tasklist</a></li>
						<li><a role="menuitem" ng-click=""><span class="glyphicon glyphicon-sort"></span>&nbsp;&nbsp;Reset sort order to default</a></li>
						<li class="divider"></li>
						<li><a role="menuitem" ng-click=""><span class="glyphicon glyphicon-fire"></span>&nbsp;&nbsp;Clear Tasklist (remove completed tasks)</a></li>
					</ul>
				</li>
			</ul>

			<form class="navbar-form navbar-left" role="search" ng-submit="Goto('/tasks')">
				<div class="form-group">
					<input type="text" class="form-control" placeholder="Filter tasklist.." ng-model="query" ng-change="UpdateQuery()">
				</div>
				<button type="reset" class="btn btn-default" ng-click="query = ''; UpdateQuery()">Clear</button>
			</form>

			<ul class="nav navbar-nav navbar-right">
				<li ng-class="{active: ActiveTab.Active == 'Settings'}"><a ng-click="Goto('/settings')"><span class="glyphicon glyphicon-wrench"></span>&nbsp;&nbsp;Settings</a></li>
			</ul>
		</div>

	</div>
</nav>

<div class="container" ng-controller="alertCtrl">
	<alert ng-repeat="alert in alerts" type="alert.Type" close="CloseAlert($index)">{{alert.Message}}</alert>
</div>

<div class="container">
	{[{ yield }]}
</div>

</body>
</html>
